"use strict";(self.webpackChunksnooty=self.webpackChunksnooty||[]).push([[360],{97553:function(e,t,r){var a=r(15785),i=r(55319),l=(r(17727),r(14160)),n=r(67294),o=r(84849),s=r(70917),g=r(87896),c=r(96112),p=r(87209),u=r(2149),d=r(62838),m=r(64793),h=r(7298),f=r(17563),Z=r(225),y=r(56946),x=r(40002),b=r(9549),w=r(29529),v=r(33848),S=r(11587),k=r(86719),z=r(1577),j=r(77159),C=r(15966);r(87642);const F=y.r.size.default,R="12px",T="152px",P="calc(50vh - 28px - 40px - "+j.M+" / 2)",L={name:"750b2t",styles:"font-family:'Euclid Circular A';font-weight:bolder;letter-spacing:0.5px;margin:0"},M=(0,i.Z)("div",{target:"e1yoi6mj12"})("margin-bottom:",P,";margin-top:",P,";"),A=(0,i.Z)("div",{target:"e1yoi6mj11"})("grid-area:header;>h1:first-of-type{color:",m.D.green.dark2,";padding-bottom:40px;margin:unset;}"),E=(0,i.Z)("div",{target:"e1yoi6mj10"})("grid-area:filters;@media ",y.r.screenSize.upToMedium,"{display:none;}"),I=(0,i.Z)("h2",{target:"e1yoi6mj9"})("align-self:center;color:",m.D.gray.dark2,";font-size:",y.r.fontSize.tiny,";line-height:15px;text-transform:uppercase;white-space:nowrap;",L,";margin-bottom:",y.r.size.default,";"),U=(0,i.Z)("div",{target:"e1yoi6mj8"})("column-gap:","46px",";display:grid;grid-template-areas:'header .' 'results filters';grid-template-columns:auto ","173px",";margin:",y.r.size.large," 108px ",y.r.size.xlarge," ",y.r.size.large,";max-width:1150px;row-gap:",y.r.size.large,";@media ",y.r.screenSize.upTo2XLarge,"{margin:",y.r.size.large," 40px ",y.r.size.xlarge," 40px;}@media ",y.r.screenSize.upToMedium,"{column-gap:0;grid-template-areas:'header' 'results';grid-template-columns:auto;margin:",y.r.size.large," ",y.r.size.medium," ",y.r.size.xlarge," ",y.r.size.medium,";}"),X=(0,i.Z)(k.Z,{target:"e1yoi6mj7"})("grid-area:filters;@media ",y.r.screenSize.upToMedium,"{align-items:center;display:none;flex-direction:row;>div{margin-bottom:0;margin-right:",y.r.size.small,";}}@media ",y.r.screenSize.upToSmall,"{flex-direction:column;>div{width:100%;:first-of-type{margin-bottom:",y.r.size.small,";margin-right:0;}>div{width:100%;}}}"),D=(0,s.iv)("box-shadow:0px 0px 3px 0px rgba(0, 0, 0, 0.1);border-radius:45px;background-color:#fff;height:",T,";position:relative;place-self:center;width:100%;>div{padding:20px;padding-left:30px;}:hover,:focus{color:unset;text-decoration:unset;>div{background-color:unset!important;}}:before{content:'';position:absolute;top:calc(-",F," / 2);left:0;right:0;bottom:calc(-",F," / 2);background-color:transparent;}",""),O=(0,i.Z)(z.Z,{target:"e1yoi6mj6"})(D,";"),B=(0,i.Z)("div",{target:"e1yoi6mj5"})(D," box-shadow:0 0 ",y.r.size.tiny," 0 rgba(231, 238, 236, 1)!important;color:red;box-sizing:border-box;padding:15px;*{padding:2px;height:15px!important;margin-right:10px!important;}display:grid;grid-template-rows:1fr 2fr 1fr;"),N=(0,i.Z)("div",{target:"e1yoi6mj4"})("box-shadow:none;display:grid;grid-area:results;grid-auto-rows:calc(",T," + ",F,");height:100%;width:100%;:hover{>",O,"{:hover{opacity:1;box-shadow:0px 0px 5px 1px rgba(58, 63, 60, 0.15);}}}:not(:hover){>",O,"{opacity:1;transition:opacity 150ms ease-in;}}"),q=(0,i.Z)("div",{target:"e1yoi6mj3"})("margin-top:",y.r.size.small,";"),J=(0,i.Z)(v.Z,{target:"e1yoi6mj2"})(v.m,";"),G=(0,i.Z)("div",{target:"e1yoi6mj1"})({name:"ho1qnd",styles:"display:flex;flex-direction:row"}),H=(0,i.Z)("div",{target:"e1yoi6mj0"})("display:none;margin-top:",y.r.size.default,";@media ",y.r.screenSize.upToMedium,"{display:block;}");var V={name:"1fh93lr",styles:"grid-area:results;margin-top:80px"},K={name:"1ks8ppo",styles:"body{background-color:#ffffff!important;}"};t.Z=()=>{const{search:e}=(0,g.useLocation)(),{page:t,searchTerm:r,searchFilter:i,setSearchFilter:m,selectedCategory:y,selectedVersion:v,searchPropertyMapping:k,showMobileFilters:z,setShowMobileFilters:F}=(0,n.useContext)(S.Z),{isTabletOrMobile:T}=(0,Z.Z)(),{0:P,1:L}=(0,n.useState)([]),{0:D,1:Q}=(0,n.useState)(r||""),{0:W,1:Y}=(0,n.useState)(!0),{0:$,1:_}=(0,n.useState)(),{0:ee,1:te}=(0,n.useState)(!0),re="Refine your search",ae=(0,n.useRef)(null),ie=(0,n.useCallback)((()=>{m(null)}),[m]),le=(0,n.useCallback)((()=>{F(!0)}),[F]);let ne={glyph:"X",onClick:ie,text:"Clear all filters"};i||(ne={glyph:"Filter",onClick:le,text:re}),(0,n.useEffect)((()=>{ae.current&&ae.current.focus()}),[]),(0,n.useEffect)((()=>{if(!k||!Object.keys(k).length)return;if(!r){if(ee)return;return L([]),void _(0)}te(!1),Y(!1);(async()=>{const e=await fetch((0,w.X)(r,i,t));return(await e.json()).results})().then((e=>{L(e||[])})).catch((e=>{console.error("Error fetching search results: "+JSON.stringify(e))})).finally((()=>{Y(!0)})),(async()=>(await fetch((0,w.o)(r,i))).json())().then((e=>{_(null==e?void 0:e.count)})).catch((e=>{console.error("Error while fetching search meta: "+JSON.stringify(e)),_()}))}),[r,t,i,k,ee]);const oe=(0,n.useCallback)((async t=>{const a=new URLSearchParams(e),n=parseInt(a.get("page")),o=t?n+1:n-1;if(o<1)return;a.set("page",o);const s="?"+a.toString();(0,l.c4)(s),Y(!1);const g=await fetch((0,w.X)(r,i,o)),c=await g.json();L((null==c?void 0:c.results)||[]),Y(!0)}),[e,i,r]);return(0,s.tZ)(n.Fragment,null,(0,s.tZ)(s.xB,{styles:K}),(0,s.tZ)(U,null,(0,s.tZ)(A,null,(0,s.tZ)(h.H1,null,"Search Results"),(0,s.tZ)(u.Mj,{ref:ae,value:D,placeholder:"Search",onSubmit:t=>{var a;const i=null===(a=t.target[0])||void 0===a?void 0:a.value,{page:n}=f.parse(e);if(i===r&&1===parseInt(n))return;const o=new URLSearchParams(e);o.set("q",i),o.set("page","1");const s="?"+o.toString();(0,l.c4)(s)},onChange:e=>{Q(e.target.value)}}),(0,s.tZ)(G,{style:{paddingTop:"10px"}},Number.isInteger($)&&(0,s.tZ)(h.Lh,{style:{paddingTop:"11px",paddingRight:"8px"}},(0,s.tZ)(n.Fragment,null,$," RESULTS")),!!i&&(0,s.tZ)(q,null,y&&(0,s.tZ)(J,{variant:"green",onClick:ie},y,(0,s.tZ)(p.ZP,{style:{marginLeft:"8px",marginRight:"-2px"},glyph:"X"})),v&&(0,s.tZ)(J,{variant:"blue"},v))),(0,s.tZ)(H,null,(0,s.tZ)(c.ZP,{leftGlyph:(0,s.tZ)(p.ZP,{glyph:ne.glyph}),onClick:ne.onClick},ne.text))),!!r&&!W&&(0,s.tZ)(n.Fragment,null,(0,s.tZ)(N,null,(0,a.Z)(Array(10)).map(((e,t)=>(0,s.tZ)(B,{key:t},(0,s.tZ)(o.Z,{borderRadius:R,width:200}),(0,s.tZ)(o.Z,{borderRadius:R}),(0,s.tZ)(o.Z,{count:2,borderRadius:R,inline:!0,width:60})))))),!ee&&W&&!(null!=P&&P.length)&&(0,s.tZ)(n.Fragment,null,(0,s.tZ)(n.Fragment,null,(0,s.tZ)(M,{css:V},(0,s.tZ)(j.Z,null)))),!!r&&!!W&&!!P.length&&(0,s.tZ)(n.Fragment,null,(0,s.tZ)(N,null,P.map(((e,t)=>{let{title:r,preview:a,url:i,searchProperty:l}=e;return(0,s.tZ)(O,{key:""+i+t,onClick:()=>(0,x.D)("SearchSelection",{areaFrom:"ResultsPage",rank:t,selectionUrl:i}),title:r,preview:(0,b.X)(a),url:i,useLargeTitle:!0,searchProperty:null==l?void 0:l[0]})})),(0,s.tZ)(n.Fragment,null,(0,s.tZ)(d.Z,{currentPage:parseInt(new URLSearchParams(e).get("page")||1),numTotalItems:$,onForwardArrowClick:oe.bind(null,!0),onBackArrowClick:oe.bind(null,!1),shouldDisableBackArrow:1===parseInt(new URLSearchParams(e).get("page")),shouldDisableForwardArrow:(null==P?void 0:P.length)&&P.length<10})))),!ee&&W&&(0,s.tZ)(E,null,(0,s.tZ)(I,null,re),(0,s.tZ)(X,null)),z&&T&&(0,s.tZ)(C.Z,null)))}}}]);
//# sourceMappingURL=21707313-6cabf8c08bef3cb3506e.js.map